---
title: 排查CPU占有率高
date: 2016-10-19 21:43:26
tags:
- java

---

---
    测试环境Java进程CPU占有率很高。

#### 1.根据top命令，发现占有率高的Java的PID。

    #top

#### 2.找到该PID后，首先显示线程列表，并按照CPU占用高的线程排序。

    #ps -mp $PID -o THREAD,tid,time | sort -rn

#### 3.然后找到耗时最多的线程TID，将需要的TID转换为16进制格式。

    #printf "%x\n" $TID

#### 4.打印线程的堆栈信息。

    #jstack $PID |grep $0xTID -A 30

转自: [http://liubaing.com/](http://liubaing.com/)